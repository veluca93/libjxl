// Copyright (c) the JPEG XL Project Authors. All rights reserved.
//
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.
/* This file is automatically generated. Do not modify it directly. */
#if HWY_TARGET != HWY_NEON
#error "only include this file from fast_dct-inl.h"
#endif

constexpr size_t FastIDCTIntegerBits(FastDCTTag<32>) { return 1; }

void FastIDCT(FastDCTTag<32>, const float* in, size_t in_stride, float* out,
              size_t out_stride, size_t count) {
  JXL_ASSERT(count % 8 == 0);
  HWY_FULL(float) df;
  for (size_t i = 0; i < count; i += 8) {
    auto v0 = Load(df, in + in_stride * 0 + i);
    auto v1 = Load(df, in + in_stride * 16 + i);
    auto v2 = v0 + v1;
    auto v3 = Load(df, in + in_stride * 8 + i);
    auto v4_tmp = v3 * Set(df, 0.41421356237309515);
    auto v4 = v4_tmp + v3;
    auto v5 = Load(df, in + in_stride * 24 + i);
    auto v6 = v5 + v3;
    auto v7 = v4 + v6;
    auto v8 = v7 * Set(df, 0.541196100146197);
    auto v9 = v2 + v8;
    auto v10 = Load(df, in + in_stride * 4 + i);
    auto v11_tmp = v10 * Set(df, 0.41421356237309515);
    auto v11 = v11_tmp + v10;
    auto v12 = Load(df, in + in_stride * 20 + i);
    auto v13 = Load(df, in + in_stride * 12 + i);
    auto v14 = v12 + v13;
    auto v15 = v11 + v14;
    auto v16 = v13 + v10;
    auto v17 = v16 * Set(df, 0.7653668647301797);
    auto v18 = Load(df, in + in_stride * 28 + i);
    auto v19 = v18 + v12;
    auto v20 = v19 + v16;
    auto v21 = v20 * Set(df, 0.541196100146197);
    auto v22 = v17 + v21;
    auto v23 = v15 + v22;
    auto v24 = v23 * Set(df, 0.5097955791041592);
    auto v25 = v9 + v24;
    auto v26 = Load(df, in + in_stride * 2 + i);
    auto v27_tmp = v26 * Set(df, 0.41421356237309515);
    auto v27 = v27_tmp + v26;
    auto v28 = Load(df, in + in_stride * 18 + i);
    auto v29 = Load(df, in + in_stride * 14 + i);
    auto v30 = v28 + v29;
    auto v31 = v27 + v30;
    auto v32 = Load(df, in + in_stride * 10 + i);
    auto v33 = Load(df, in + in_stride * 6 + i);
    auto v34 = v32 + v33;
    auto v35 = v34 * Set(df, 0.7653668647301797);
    auto v36 = Load(df, in + in_stride * 26 + i);
    auto v37 = Load(df, in + in_stride * 22 + i);
    auto v38 = v36 + v37;
    auto v39 = v38 + v34;
    auto v40 = v39 * Set(df, 0.541196100146197);
    auto v41 = v35 + v40;
    auto v42 = v31 + v41;
    auto v43 = v33 + v26;
    auto v44_tmp = v43 * Set(df, 0.41421356237309515);
    auto v44 = v44_tmp + v43;
    auto v45 = v37 + v28;
    auto v46 = v29 + v32;
    auto v47 = v45 + v46;
    auto v48 = v44 + v47;
    auto v49 = v48 * Set(df, 0.5097955791041592);
    auto v50 = v46 + v43;
    auto v51 = v50 * Set(df, 0.7653668647301797);
    auto v52 = Load(df, in + in_stride * 30 + i);
    auto v53 = v52 + v36;
    auto v54 = v53 + v45;
    auto v55 = v54 + v50;
    auto v56 = v55 * Set(df, 0.541196100146197);
    auto v57 = v51 + v56;
    auto v58 = v57 * Set(df, 0.5097955791041592);
    auto v59 = v49 + v58;
    auto v60 = v42 + v59;
    auto v61 = v60 * Set(df, 0.5024192861881557);
    auto v62 = v25 + v61;
    auto v63 = Load(df, in + in_stride * 1 + i);
    auto v64_tmp = v63 * Set(df, 0.41421356237309515);
    auto v64 = v64_tmp + v63;
    auto v65 = Load(df, in + in_stride * 17 + i);
    auto v66 = Load(df, in + in_stride * 15 + i);
    auto v67 = v65 + v66;
    auto v68 = v64 + v67;
    auto v69 = Load(df, in + in_stride * 25 + i);
    auto v70 = Load(df, in + in_stride * 23 + i);
    auto v71 = v69 + v70;
    auto v72 = Load(df, in + in_stride * 9 + i);
    auto v73 = Load(df, in + in_stride * 7 + i);
    auto v74 = v72 + v73;
    auto v75 = v71 + v74;
    auto v76 = v75 * Set(df, 0.541196100146197);
    auto v77 = v74 * Set(df, 0.7653668647301797);
    auto v78 = v76 + v77;
    auto v79 = v68 + v78;
    auto v80 = Load(df, in + in_stride * 5 + i);
    auto v81 = Load(df, in + in_stride * 3 + i);
    auto v82 = v80 + v81;
    auto v83_tmp = v82 * Set(df, 0.41421356237309515);
    auto v83 = v83_tmp + v82;
    auto v84 = Load(df, in + in_stride * 21 + i);
    auto v85 = Load(df, in + in_stride * 19 + i);
    auto v86 = v84 + v85;
    auto v87 = Load(df, in + in_stride * 13 + i);
    auto v88 = Load(df, in + in_stride * 11 + i);
    auto v89 = v87 + v88;
    auto v90 = v86 + v89;
    auto v91 = v83 + v90;
    auto v92 = v91 * Set(df, 0.5097955791041592);
    auto v93 = v89 + v82;
    auto v94_tmp = v93 * Set(df, 0.30656296487637613);
    auto v94 = v94_tmp + v93;
    auto v95 = Load(df, in + in_stride * 29 + i);
    auto v96 = Load(df, in + in_stride * 27 + i);
    auto v97 = v95 + v96;
    auto v98 = v97 + v86;
    auto v99 = v98 * Set(df, 0.5411961001461968);
    auto v100 = v94 + v99;
    auto v101 = v100 * Set(df, 0.5097955791041592);
    auto v102 = v92 + v101;
    auto v103 = v79 + v102;
    auto v104 = v81 + v63;
    auto v105_tmp = v104 * Set(df, 0.41421356237309515);
    auto v105 = v105_tmp + v104;
    auto v106 = v85 + v65;
    auto v107 = v66 + v87;
    auto v108 = v106 + v107;
    auto v109 = v105 + v108;
    auto v110 = v88 + v72;
    auto v111 = v73 + v80;
    auto v112 = v110 + v111;
    auto v113_tmp = v112 * Set(df, 0.3065629648763768);
    auto v113 = v113_tmp + v112;
    auto v114 = v70 + v84;
    auto v115 = v96 + v69;
    auto v116 = v114 + v115;
    auto v117 = v116 * Set(df, 0.5411961001461969);
    auto v118 = v113 + v117;
    auto v119 = v109 + v118;
    auto v120 = v119 * Set(df, 0.5024192861881557);
    auto v121 = v111 + v104;
    auto v122_tmp = v121 * Set(df, 0.41421356237309515);
    auto v122 = v122_tmp + v121;
    auto v123 = v114 + v106;
    auto v124 = v107 + v110;
    auto v125 = v123 + v124;
    auto v126 = v122 + v125;
    auto v127 = v126 * Set(df, 0.5097955791041592);
    auto v128 = v124 + v121;
    auto v129 = v128 * Set(df, 0.7653668647301797);
    auto v130 = v128 * Set(df, 0.541196100146197);
    auto v131 = Load(df, in + in_stride * 31 + i);
    auto v132 = v131 + v95;
    auto v133 = v132 + v115;
    auto v134 = v133 + v123;
    auto v135 = v134 * Set(df, 0.541196100146197);
    auto v136 = v130 + v135;
    auto v137 = v129 + v136;
    auto v138 = v137 * Set(df, 0.5097955791041593);
    auto v139 = v127 + v138;
    auto v140 = v139 * Set(df, 0.5024192861881557);
    auto v141 = v120 + v140;
    auto v142 = v103 + v141;
    auto v143 = v142 * Set(df, 0.5006029982351963);
    auto v144 = v62 + v143;
    auto v145 = v64 - v67;
    auto v146 = v74 * Set(df, 0.5411961001461971);
    auto v147_tmp = v71 * Set(df, 0.3065629648763766);
    auto v147 = v147_tmp + v71;
    auto v148 = v146 - v147;
    auto v149 = v145 + v148;
    auto v150 = v83 - v90;
    auto v151 = v150 * Set(df, 0.6013448869350453);
    auto v152 = v93 * Set(df, 0.4142135623730951);
    auto v153 = v152 - v98;
    auto v154 = v153 * Set(df, 0.7856949583871021);
    auto v155 = v151 + v154;
    auto v156 = v149 + v155;
    auto v157 = v121 * Set(df, 0.8504300947672565);
    auto v158 = v125 * Set(df, 0.6013448869350453);
    auto v159 = v157 - v158;
    auto v160 = v128 * Set(df, 0.41421356237309515);
    auto v161 = v160 - v134;
    auto v162 = v161 * Set(df, 0.7856949583871021);
    auto v163 = v159 + v162;
    auto v164 = v163 * Set(df, 0.5224986149396889);
    auto v165 = v105 - v108;
    auto v166 = v112 * Set(df, 0.4142135623730951);
    auto v167 = v166 - v116;
    auto v168_tmp = v167 * Set(df, 0.30656296487637635);
    auto v168 = v168_tmp + v167;
    auto v169 = v165 + v168;
    auto v170 = v169 * Set(df, 0.5224986149396889);
    auto v171 = v164 + v170;
    auto v172 = v156 + v171;
    auto v173 = v172 * Set(df, 0.5054709598975436);
    auto v174 = v0 - v1;
    auto v175 = v4 - v6;
    auto v176_tmp = v175 * Set(df, 0.30656296487637635);
    auto v176 = v176_tmp + v175;
    auto v177 = v174 + v176;
    auto v178 = v11 - v14;
    auto v179 = v16 * Set(df, 0.5411961001461971);
    auto v180_tmp = v19 * Set(df, 0.30656296487637635);
    auto v180 = v180_tmp + v19;
    auto v181 = v179 - v180;
    auto v182 = v178 + v181;
    auto v183 = v182 * Set(df, 0.6013448869350453);
    auto v184 = v177 + v183;
    auto v185 = v27 - v30;
    auto v186 = v34 * Set(df, 0.5411961001461969);
    auto v187_tmp = v38 * Set(df, 0.30656296487637635);
    auto v187 = v187_tmp + v38;
    auto v188 = v186 - v187;
    auto v189 = v185 + v188;
    auto v190 = v44 - v47;
    auto v191 = v190 * Set(df, 0.6013448869350453);
    auto v192 = v50 * Set(df, 0.4142135623730951);
    auto v193 = v192 - v54;
    auto v194 = v193 * Set(df, 0.7856949583871021);
    auto v195 = v191 + v194;
    auto v196 = v189 + v195;
    auto v197 = v196 * Set(df, 0.5224986149396889);
    auto v198 = v184 + v197;
    auto v199 = v173 + v198;
    auto v200 = v174 - v176;
    auto v201 = v178 - v181;
    auto v202 = v201 * Set(df, 0.8999762231364156);
    auto v203 = v200 + v202;
    auto v204 = v185 - v188;
    auto v205 = v190 * Set(df, 0.8999762231364156);
    auto v206_tmp = v193 * Set(df, 0.1758756024193584);
    auto v206 = v206_tmp + v193;
    auto v207 = v205 - v206;
    auto v208 = v204 + v207;
    auto v209 = v208 * Set(df, 0.5669440348163577);
    auto v210 = v203 + v209;
    auto v211 = v145 - v148;
    auto v212 = v150 * Set(df, 0.8999762231364156);
    auto v213_tmp = v153 * Set(df, 0.1758756024193584);
    auto v213 = v213_tmp + v153;
    auto v214 = v212 - v213;
    auto v215 = v211 + v214;
    auto v216 = v165 - v168;
    auto v217 = v216 * Set(df, 0.5669440348163577);
    auto v218 = v159 * Set(df, 0.8484917096149844);
    auto v219 = v161 * Set(df, 0.6666556584777463);
    auto v220 = v218 - v219;
    auto v221 = v217 + v220;
    auto v222 = v215 + v221;
    auto v223 = v222 * Set(df, 0.5154473099226246);
    auto v224 = v210 + v223;
    auto v225 = v2 - v8;
    auto v226 = v15 - v22;
    auto v227_tmp = v226 * Set(df, 0.5629154477415055);
    auto v227 = MulAdd(v226, Set(df, 2), v227_tmp);
    auto v228 = v225 + v227;
    auto v229 = v48 - v57;
    auto v230_tmp = v229 * Set(df, 0.5629154477415055);
    auto v230 = MulAdd(v229, Set(df, 2), v230_tmp);
    auto v231 = v31 - v41;
    auto v232 = v230 + v231;
    auto v233 = v232 * Set(df, 0.6468217833599901);
    auto v234 = v228 + v233;
    auto v235 = v68 - v78;
    auto v236 = v91 - v100;
    auto v237_tmp = v236 * Set(df, 0.5629154477415055);
    auto v237 = MulAdd(v236, Set(df, 2), v237_tmp);
    auto v238 = v235 + v237;
    auto v239 = v109 - v118;
    auto v240 = v126 - v137;
    auto v241_tmp = v240 * Set(df, 0.5629154477415055);
    auto v241 = MulAdd(v240, Set(df, 2), v241_tmp);
    auto v242 = v239 + v241;
    auto v243 = v242 * Set(df, 0.6468217833599901);
    auto v244 = v238 + v243;
    auto v245 = v244 * Set(df, 0.5310425910897841);
    auto v246 = v234 + v245;
    auto v247 = v225 - v227;
    auto v248 = v231 - v230;
    auto v249 = v248 * Set(df, 0.7881546234512502);
    auto v250 = v247 + v249;
    auto v251 = v235 - v237;
    auto v252 = v239 - v241;
    auto v253 = v252 * Set(df, 0.7881546234512502);
    auto v254 = v251 + v253;
    auto v255 = v254 * Set(df, 0.5531038960344445);
    auto v256 = v250 + v255;
    auto v257 = v200 - v202;
    auto v258 = v204 - v207;
    auto v259_tmp = v258 * Set(df, 0.06067768599034706);
    auto v259 = v259_tmp + v258;
    auto v260 = v257 + v259;
    auto v261 = v211 - v214;
    auto v262_tmp = v220 * Set(df, 0.7638425286967101);
    auto v262 = v262_tmp + v220;
    auto v263 = v216 - v262;
    auto v264_tmp = v263 * Set(df, 0.06067768599034706);
    auto v264 = v264_tmp + v263;
    auto v265 = v261 + v264;
    auto v266 = v265 * Set(df, 0.5829349682061339);
    auto v267 = v260 + v266;
    auto v268 = v169 - v163;
    auto v269_tmp = v268 * Set(df, 0.7224470982383342);
    auto v269 = v269_tmp + v268;
    auto v270 = v149 - v155;
    auto v271 = v269 + v270;
    auto v272 = v271 * Set(df, 0.6225041230356648);
    auto v273 = v189 - v195;
    auto v274_tmp = v273 * Set(df, 0.7224470982383342);
    auto v274 = v274_tmp + v273;
    auto v275 = v177 - v183;
    auto v276 = v274 + v275;
    auto v277 = v272 + v276;
    auto v278 = v9 - v24;
    auto v279 = v42 - v59;
    auto v280_tmp = v279 * Set(df, 0.10114861868915526);
    auto v280 = MulAdd(v279, Set(df, 5), v280_tmp);
    auto v281 = v278 + v280;
    auto v282 = v79 - v102;
    auto v283 = v119 - v139;
    auto v284_tmp = v283 * Set(df, 0.10114861868915526);
    auto v284 = MulAdd(v283, Set(df, 5), v284_tmp);
    auto v285 = v282 + v284;
    auto v286 = v285 * Set(df, 0.6748083414550057);
    auto v287 = v281 + v286;
    auto v288 = v278 - v280;
    auto v289 = v282 - v284;
    auto v290 = v289 * Set(df, 0.7445362710022986);
    auto v291 = v288 + v290;
    auto v292 = v275 - v274;
    auto v293 = v270 - v269;
    auto v294 = v293 * Set(df, 0.8393496454155268);
    auto v295 = v292 + v294;
    auto v296 = v261 - v264;
    auto v297 = v296 * Set(df, 0.9725682378619608);
    auto v298 = v257 - v259;
    auto v299 = v297 + v298;
    auto v300 = v247 - v249;
    auto v301 = v251 - v253;
    auto v302_tmp = v301 * Set(df, 0.16943993343288466);
    auto v302 = v302_tmp + v301;
    auto v303 = v300 + v302;
    auto v304 = v228 - v233;
    auto v305 = v238 - v243;
    auto v306_tmp = v305 * Set(df, 0.4841646163141662);
    auto v306 = v306_tmp + v305;
    auto v307 = v304 + v306;
    auto v308 = v203 - v209;
    auto v309 = v215 - v221;
    auto v310_tmp = v309 * Set(df, 0.057781009953410845);
    auto v310 = MulAdd(v309, Set(df, 2), v310_tmp);
    auto v311 = v308 + v310;
    auto v312 = v184 - v197;
    auto v313 = v156 - v171;
    auto v314_tmp = v313 * Set(df, 0.407608418468719);
    auto v314 = MulAdd(v313, Set(df, 3), v314_tmp);
    auto v315 = v312 + v314;
    auto v316 = v25 - v61;
    auto v317 = v103 - v141;
    auto v318_tmp = v317 * Set(df, 0.19000812354803287);
    auto v318 = MulAdd(v317, Set(df, 10), v318_tmp);
    auto v319 = v316 + v318;
    auto v320 = v316 - v318;
    auto v321 = v312 - v314;
    auto v322 = v308 - v310;
    auto v323 = v304 - v306;
    auto v324 = v300 - v302;
    auto v325 = v298 - v297;
    auto v326 = v292 - v294;
    auto v327 = v288 - v290;
    auto v328 = v281 - v286;
    auto v329 = v276 - v272;
    auto v330 = v260 - v266;
    auto v331 = v250 - v255;
    auto v332 = v234 - v245;
    auto v333 = v210 - v223;
    auto v334 = v198 - v173;
    auto v335 = v62 - v143;
    Store(v144, df, out + out_stride * 0 + i);
    Store(v199, df, out + out_stride * 1 + i);
    Store(v224, df, out + out_stride * 2 + i);
    Store(v246, df, out + out_stride * 3 + i);
    Store(v256, df, out + out_stride * 4 + i);
    Store(v267, df, out + out_stride * 5 + i);
    Store(v277, df, out + out_stride * 6 + i);
    Store(v287, df, out + out_stride * 7 + i);
    Store(v291, df, out + out_stride * 8 + i);
    Store(v295, df, out + out_stride * 9 + i);
    Store(v299, df, out + out_stride * 10 + i);
    Store(v303, df, out + out_stride * 11 + i);
    Store(v307, df, out + out_stride * 12 + i);
    Store(v311, df, out + out_stride * 13 + i);
    Store(v315, df, out + out_stride * 14 + i);
    Store(v319, df, out + out_stride * 15 + i);
    Store(v320, df, out + out_stride * 16 + i);
    Store(v321, df, out + out_stride * 17 + i);
    Store(v322, df, out + out_stride * 18 + i);
    Store(v323, df, out + out_stride * 19 + i);
    Store(v324, df, out + out_stride * 20 + i);
    Store(v325, df, out + out_stride * 21 + i);
    Store(v326, df, out + out_stride * 22 + i);
    Store(v327, df, out + out_stride * 23 + i);
    Store(v328, df, out + out_stride * 24 + i);
    Store(v329, df, out + out_stride * 25 + i);
    Store(v330, df, out + out_stride * 26 + i);
    Store(v331, df, out + out_stride * 27 + i);
    Store(v332, df, out + out_stride * 28 + i);
    Store(v333, df, out + out_stride * 29 + i);
    Store(v334, df, out + out_stride * 30 + i);
    Store(v335, df, out + out_stride * 31 + i);
  }
}
